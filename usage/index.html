
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://markupy.witiz.com/usage/">
      
      
        <link rel="prev" href="..">
      
      
        <link rel="next" href="../components/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.39">
    
    
      
        <title>Usage - markupy</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.8c3ca2c6.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-NWHXG5WE1Q"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-NWHXG5WE1Q",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-NWHXG5WE1Q",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#usage" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="markupy" class="md-header__button md-logo" aria-label="markupy" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.6 16.6 4.6-4.6-4.6-4.6L16 6l6 6-6 6zm-5.2 0L4.8 12l4.6-4.6L8 6l-6 6 6 6z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            markupy
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Usage
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/witiz/markupy" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



  

<nav class="md-nav md-nav--primary md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="markupy" class="md-nav__button md-logo" aria-label="markupy" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.6 16.6 4.6-4.6-4.6-4.6L16 6l6 6-6 6zm-5.2 0L4.8 12l4.6-4.6L8 6l-6 6 6 6z"/></svg>

    </a>
    markupy
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/witiz/markupy" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Usage
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Usage
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#elements" class="md-nav__link">
    <span class="md-ellipsis">
      Elements
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#attributes" class="md-nav__link">
    <span class="md-ellipsis">
      Attributes
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#children" class="md-nav__link">
    <span class="md-ellipsis">
      Children
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Children">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#textstrings" class="md-nav__link">
    <span class="md-ellipsis">
      Text/Strings
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#injecting-markup" class="md-nav__link">
    <span class="md-ellipsis">
      Injecting Markup
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#conditional-rendering" class="md-nav__link">
    <span class="md-ellipsis">
      Conditional Rendering
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loops-iterating-over-children" class="md-nav__link">
    <span class="md-ellipsis">
      Loops / Iterating Over Children
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#custom-elements-web-components" class="md-nav__link">
    <span class="md-ellipsis">
      Custom Elements / Web Components
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#html-doctype" class="md-nav__link">
    <span class="md-ellipsis">
      HTML Doctype
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#html-comments" class="md-nav__link">
    <span class="md-ellipsis">
      HTML Comments
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#attributes_1" class="md-nav__link">
    <span class="md-ellipsis">
      Attributes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Attributes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#elements-without-attributes" class="md-nav__link">
    <span class="md-ellipsis">
      Elements Without Attributes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#keyword-arguments" class="md-nav__link">
    <span class="md-ellipsis">
      Keyword Arguments
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#idclass-selector-shorthand" class="md-nav__link">
    <span class="md-ellipsis">
      Id/Class selector shorthand
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#attributes-as-dict" class="md-nav__link">
    <span class="md-ellipsis">
      Attributes as Dict
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#booleanempty-attributes" class="md-nav__link">
    <span class="md-ellipsis">
      Boolean/Empty Attributes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#conditionally-mixing-css-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Conditionally Mixing CSS Classes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#combining-modes" class="md-nav__link">
    <span class="md-ellipsis">
      Combining Modes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#escaping-of-attributes" class="md-nav__link">
    <span class="md-ellipsis">
      Escaping of Attributes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#render-elements-without-a-parent-orphans" class="md-nav__link">
    <span class="md-ellipsis">
      Render elements without a parent (orphans)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iterating-of-the-output" class="md-nav__link">
    <span class="md-ellipsis">
      Iterating of the Output
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../components/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Components
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../html2markupy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Converting HTML to markupy
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../flask/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Integrating with Flask
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../starlette/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Integrating with Starlette
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../django/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Integrating with Django
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="usage">Usage<a class="headerlink" href="#usage" title="Permanent link">&para;</a></h1>
<h2 id="elements">Elements<a class="headerlink" href="#elements" title="Permanent link">&para;</a></h2>
<p>HTML elements are imported directly from the <code>markupy.tag</code> module as their name using the CapitalizedCase syntax. Although HTML elements are usually spelled in lower case, using CapitalizedCase in markupy avoids naming conflicts with your own variables and makes it easier to distinguish markupy tags vs other parts of your code.</p>
<div class="language-python highlight"><span class="filename">Importing elements</span><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">markupy.tag</span> <span class="kn">import</span> <span class="n">Div</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">Div</span><span class="p">)</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="o">&lt;</span><span class="n">div</span><span class="o">&gt;&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
</span></code></pre></div>
<h2 id="attributes">Attributes<a class="headerlink" href="#attributes" title="Permanent link">&para;</a></h2>
<p>HTML attributes are specified by using parenthesis <code>()</code> syntax on an element.</p>
<div class="language-python highlight"><span class="filename">Element attributes</span><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">markupy.tag</span> <span class="kn">import</span> <span class="n">Div</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">Div</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s2">&quot;container&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;color:red&quot;</span><span class="p">))</span>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="o">&lt;</span><span class="n">div</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;container&quot;</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;color:red&quot;</span><span class="o">&gt;&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
</span></code></pre></div>
<h2 id="children">Children<a class="headerlink" href="#children" title="Permanent link">&para;</a></h2>
<p>Children are specified using square brackets <code>[]</code> syntax on an element.
Children can be strings, ints, markup, other elements or lists/iterators.</p>
<p>Elements can be arbitrarily nested:</p>
<div class="language-python highlight"><span class="filename">Nested elements</span><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">markupy.tag</span> <span class="kn">import</span> <span class="n">Article</span><span class="p">,</span> <span class="n">Section</span><span class="p">,</span> <span class="n">P</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">Section</span><span class="p">[</span><span class="n">Article</span><span class="p">[</span><span class="n">P</span><span class="p">[</span><span class="s2">&quot;Lorem ipsum&quot;</span><span class="p">]]])</span>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="o">&lt;</span><span class="n">section</span><span class="o">&gt;&lt;</span><span class="n">article</span><span class="o">&gt;&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="n">Lorem</span> <span class="n">ipsum</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;&lt;/</span><span class="n">article</span><span class="o">&gt;&lt;/</span><span class="n">section</span><span class="o">&gt;</span>
</span></code></pre></div>
<div class="admonition note">
<p class="admonition-title">Don't forget to close your tags</p>
<p>Another main advantage of the markupy syntax over raw HTML is that you don't have to repeat the tag name to close an element. Of course you still need to close your tags with a closing bracket <code>]</code> but this is much more straightforward and your IDE should help you matching/indenting them fairly easily.</p>
</div>
<h3 id="textstrings">Text/Strings<a class="headerlink" href="#textstrings" title="Permanent link">&para;</a></h3>
<p>It is possible to pass a string directly as an element's child:</p>
<div class="language-python highlight"><span class="filename">Using a string as children</span><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">markupy.tag</span> <span class="kn">import</span> <span class="n">H1</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">H1</span><span class="p">[</span><span class="s2">&quot;Welcome to my site!&quot;</span><span class="p">])</span>
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">Welcome</span> <span class="n">to</span> <span class="n">my</span> <span class="n">site</span><span class="err">!</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span></code></pre></div>
<p>Strings are automatically escaped to avoid <a href="https://owasp.org/www-community/attacks/xss/">XSS vulnerabilities</a>.
It is convenient and safe to directly insert variable data via f-strings:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">markupy.tag</span> <span class="kn">import</span> <span class="n">H1</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">user_supplied_name</span> <span class="o">=</span> <span class="s2">&quot;bobby &lt;/h1&gt;&quot;</span>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">H1</span><span class="p">[</span><span class="sa">f</span><span class="s2">&quot;hello </span><span class="si">{</span><span class="n">user_supplied_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">])</span>
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">hello</span> <span class="n">bobby</span> <span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="o">/</span><span class="n">h1</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span></code></pre></div>
<div class="admonition warning">
<p class="admonition-title">An exception for <code>script</code> and <code>style</code> tags</p>
<p>Script and style tags are special because they usually expect their content to be respectively javascript and css code. In order for code to work properly, <code>Script</code> and <code>Style</code> child nodes will not be automatically escaped. Keep in mind that you will need to escape sensitive values yourself inside these 2 tags. </p>
</div>
<h3 id="injecting-markup">Injecting Markup<a class="headerlink" href="#injecting-markup" title="Permanent link">&para;</a></h3>
<p>If you have HTML markup that you want to insert without further escaping, wrap
it in <code>Markup</code> from the <a href="https://markupsafe.palletsprojects.com/">markupsafe</a>
library. markupsafe is a dependency of markupy and is automatically installed:</p>
<div class="language-python highlight"><span class="filename">Injecting markup</span><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">markupy.tag</span> <span class="kn">import</span> <span class="n">Div</span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">markupsafe</span> <span class="kn">import</span> <span class="n">Markup</span>
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">Div</span><span class="p">[</span><span class="n">Markup</span><span class="p">(</span><span class="s2">&quot;&lt;foo&gt;&lt;/foo&gt;&quot;</span><span class="p">)])</span>
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="o">&lt;</span><span class="n">div</span><span class="o">&gt;&lt;</span><span class="n">foo</span><span class="o">&gt;&lt;/</span><span class="n">foo</span><span class="o">&gt;&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
</span></code></pre></div>
<p>If you are generate <a href="https://pypi.org/project/Markdown/">Markdown</a> and want to insert it into an element, use <code>Markup</code>:</p>
<div class="language-python highlight"><span class="filename">Injecting generated markdown</span><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">markdown</span> <span class="kn">import</span> <span class="n">markdown</span>
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">markupsafe</span> <span class="kn">import</span> <span class="n">Markup</span>
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">markupy.tag</span> <span class="kn">import</span> <span class="n">Div</span>
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">Div</span><span class="p">[</span><span class="n">Markup</span><span class="p">(</span><span class="n">markdown</span><span class="p">(</span><span class="s1">&#39;# Hi&#39;</span><span class="p">))])</span>
</span><span id="__span-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a><span class="o">&lt;</span><span class="n">div</span><span class="o">&gt;&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">Hi</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
</span></code></pre></div>
<h3 id="conditional-rendering">Conditional Rendering<a class="headerlink" href="#conditional-rendering" title="Permanent link">&para;</a></h3>
<p>Children that evaluate to <code>True</code>, <code>False</code> and <code>None</code> will not be rendered.
Python's <code>and</code> and <code>or</code> operators will <a href="https://docs.python.org/3/library/stdtypes.html#boolean-operations-and-or-not">short-circuit</a>.
You can use this to conditionally render content with inline <code>and</code> and <code>or</code>.</p>
<div class="language-python highlight"><span class="filename">Conditional rendering with a value that may be None</span><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">markupy.tag</span> <span class="kn">import</span> <span class="n">Div</span><span class="p">,</span> <span class="n">Strong</span>
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="c1"># No &lt;strong&gt; tag will be rendered since error is None</span>
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">error</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="__span-7-5"><a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a><span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">Div</span><span class="p">[</span><span class="n">error</span> <span class="ow">and</span> <span class="n">Strong</span><span class="p">[</span><span class="n">error</span><span class="p">]])</span>
</span><span id="__span-7-6"><a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a><span class="o">&lt;</span><span class="n">div</span><span class="o">&gt;&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
</span><span id="__span-7-7"><a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a>
</span><span id="__span-7-8"><a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">error</span> <span class="o">=</span> <span class="s2">&quot;Email address is invalid.&quot;</span>
</span><span id="__span-7-9"><a id="__codelineno-7-9" name="__codelineno-7-9" href="#__codelineno-7-9"></a><span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">Div</span><span class="p">[</span><span class="n">error</span> <span class="ow">and</span> <span class="n">Strong</span><span class="p">[</span><span class="n">error</span><span class="p">]])</span>
</span><span id="__span-7-10"><a id="__codelineno-7-10" name="__codelineno-7-10" href="#__codelineno-7-10"></a><span class="o">&lt;</span><span class="n">div</span><span class="o">&gt;&lt;</span><span class="n">strong</span><span class="o">&gt;</span><span class="n">Email</span> <span class="n">address</span> <span class="ow">is</span> <span class="n">invalid</span><span class="o">.&lt;/</span><span class="n">strong</span><span class="o">&gt;&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
</span><span id="__span-7-11"><a id="__codelineno-7-11" name="__codelineno-7-11" href="#__codelineno-7-11"></a>
</span><span id="__span-7-12"><a id="__codelineno-7-12" name="__codelineno-7-12" href="#__codelineno-7-12"></a><span class="c1"># Inline if/else can also be used:</span>
</span><span id="__span-7-13"><a id="__codelineno-7-13" name="__codelineno-7-13" href="#__codelineno-7-13"></a><span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">Div</span><span class="p">[</span><span class="n">Strong</span><span class="p">[</span><span class="n">error</span><span class="p">]</span> <span class="k">if</span> <span class="n">error</span> <span class="k">else</span> <span class="kc">None</span><span class="p">])</span>
</span><span id="__span-7-14"><a id="__codelineno-7-14" name="__codelineno-7-14" href="#__codelineno-7-14"></a><span class="o">&lt;</span><span class="n">div</span><span class="o">&gt;&lt;</span><span class="n">strong</span><span class="o">&gt;</span><span class="n">Email</span> <span class="n">address</span> <span class="ow">is</span> <span class="n">invalid</span><span class="o">.&lt;/</span><span class="n">strong</span><span class="o">&gt;&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
</span></code></pre></div>
<div class="language-python highlight"><span class="filename">Conditional rendering based on a bool variable</span><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">markupy.tag</span> <span class="kn">import</span> <span class="n">Div</span>
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a>
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">is_allowed</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="__span-8-4"><a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">Div</span><span class="p">[</span><span class="n">is_allowed</span> <span class="ow">and</span> <span class="s2">&quot;Access granted!&quot;</span><span class="p">])</span>
</span><span id="__span-8-5"><a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a><span class="o">&lt;</span><span class="n">div</span><span class="o">&gt;</span><span class="n">Access</span> <span class="n">granted</span><span class="err">!</span><span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
</span><span id="__span-8-6"><a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a><span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">Div</span><span class="p">[</span><span class="n">is_allowed</span> <span class="ow">or</span> <span class="s2">&quot;Access denied!&quot;</span><span class="p">])</span>
</span><span id="__span-8-7"><a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a><span class="o">&lt;</span><span class="n">div</span><span class="o">&gt;&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
</span><span id="__span-8-8"><a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a>
</span><span id="__span-8-9"><a id="__codelineno-8-9" name="__codelineno-8-9" href="#__codelineno-8-9"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">is_allowed</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="__span-8-10"><a id="__codelineno-8-10" name="__codelineno-8-10" href="#__codelineno-8-10"></a><span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">Div</span><span class="p">[</span><span class="n">is_allowed</span> <span class="ow">and</span> <span class="s2">&quot;Access granted!&quot;</span><span class="p">])</span>
</span><span id="__span-8-11"><a id="__codelineno-8-11" name="__codelineno-8-11" href="#__codelineno-8-11"></a><span class="o">&lt;</span><span class="n">div</span><span class="o">&gt;&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
</span><span id="__span-8-12"><a id="__codelineno-8-12" name="__codelineno-8-12" href="#__codelineno-8-12"></a><span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">Div</span><span class="p">[</span><span class="n">is_allowed</span> <span class="ow">or</span> <span class="s2">&quot;Access denied!&quot;</span><span class="p">])</span>
</span><span id="__span-8-13"><a id="__codelineno-8-13" name="__codelineno-8-13" href="#__codelineno-8-13"></a><span class="o">&lt;</span><span class="n">div</span><span class="o">&gt;</span><span class="n">Access</span> <span class="n">denied</span><span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
</span></code></pre></div>
<h3 id="loops-iterating-over-children">Loops / Iterating Over Children<a class="headerlink" href="#loops-iterating-over-children" title="Permanent link">&para;</a></h3>
<p>You can pass a list, tuple or generator to generate multiple children:</p>
<div class="language-python highlight"><span class="filename">Iterate over a generator</span><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">markupy.tag</span> <span class="kn">import</span> <span class="n">Ul</span><span class="p">,</span> <span class="n">Li</span>
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">Ul</span><span class="p">[(</span><span class="n">Li</span><span class="p">[</span><span class="n">letter</span><span class="p">]</span> <span class="k">for</span> <span class="n">letter</span> <span class="ow">in</span> <span class="s2">&quot;abc&quot;</span><span class="p">)])</span>
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="o">&lt;</span><span class="n">ul</span><span class="o">&gt;&lt;</span><span class="n">li</span><span class="o">&gt;</span><span class="n">a</span><span class="o">&lt;/</span><span class="n">li</span><span class="o">&gt;&lt;</span><span class="n">li</span><span class="o">&gt;</span><span class="n">b</span><span class="o">&lt;/</span><span class="n">li</span><span class="o">&gt;&lt;</span><span class="n">li</span><span class="o">&gt;</span><span class="n">c</span><span class="o">&lt;/</span><span class="n">li</span><span class="o">&gt;&lt;/</span><span class="n">ul</span><span class="o">&gt;</span>
</span></code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The generator will be lazily evaluated when rendering the element, not
directly when the element is constructed.</p>
</div>
<p>A <code>list</code> can be used similar to a <a href="https://react.dev/reference/react/Fragment">JSX fragment</a>:</p>
<div class="language-python highlight"><span class="filename">Render a list of child elements</span><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">markupy.tag</span> <span class="kn">import</span> <span class="n">Div</span><span class="p">,</span> <span class="n">Img</span>
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">my_images</span> <span class="o">=</span> <span class="p">[</span><span class="n">Img</span><span class="p">(</span><span class="n">src</span><span class="o">=</span><span class="s2">&quot;a.jpg&quot;</span><span class="p">),</span> <span class="n">Img</span><span class="p">(</span><span class="n">src</span><span class="o">=</span><span class="s2">&quot;b.jpg&quot;</span><span class="p">)]</span>
</span><span id="__span-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">Div</span><span class="p">[</span><span class="n">my_images</span><span class="p">])</span>
</span><span id="__span-10-4"><a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a><span class="o">&lt;</span><span class="n">div</span><span class="o">&gt;&lt;</span><span class="n">img</span> <span class="n">src</span><span class="o">=</span><span class="s2">&quot;a.jpg&quot;</span><span class="o">&gt;&lt;</span><span class="n">img</span> <span class="n">src</span><span class="o">=</span><span class="s2">&quot;b.jpg&quot;</span><span class="o">&gt;&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
</span></code></pre></div>
<h3 id="custom-elements-web-components">Custom Elements / Web Components<a class="headerlink" href="#custom-elements-web-components" title="Permanent link">&para;</a></h3>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_components/Using_custom_elements">Custom elements / web components</a> are HTML elements that contains at least one dash (<code>-</code>). Since <code>-</code> cannot be used in Python identifiers, here's how you'd write them in markupy:</p>
<div class="language-python highlight"><span class="filename">Custom elements with CapitalizedCase syntax</span><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">markupy.tag</span> <span class="kn">import</span> <span class="n">MyCustomElement</span>
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">MyCustomElement</span><span class="p">[</span><span class="s1">&#39;hi!&#39;</span><span class="p">])</span>
</span><span id="__span-11-3"><a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a><span class="o">&lt;</span><span class="n">my</span><span class="o">-</span><span class="n">custom</span><span class="o">-</span><span class="n">element</span><span class="o">&gt;</span><span class="n">hi</span><span class="err">!</span><span class="o">&lt;/</span><span class="n">my</span><span class="o">-</span><span class="n">custom</span><span class="o">-</span><span class="n">element</span><span class="o">&gt;</span>
</span></code></pre></div>
<h3 id="html-doctype">HTML Doctype<a class="headerlink" href="#html-doctype" title="Permanent link">&para;</a></h3>
<p>The <a href="https://developer.mozilla.org/en-US/docs/Glossary/Doctype">HTML5 doctype</a> is automatically prepended to the <code>&lt;html&gt;</code> tag:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">markupy.tag</span> <span class="kn">import</span> <span class="n">Html</span>
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">Html</span><span class="p">)</span>
</span><span id="__span-12-3"><a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a><span class="o">&lt;</span><span class="err">!</span><span class="n">doctype</span> <span class="n">html</span><span class="o">&gt;&lt;</span><span class="n">html</span><span class="o">&gt;&lt;/</span><span class="n">html</span><span class="o">&gt;</span>
</span></code></pre></div>
<h3 id="html-comments">HTML Comments<a class="headerlink" href="#html-comments" title="Permanent link">&para;</a></h3>
<p>Since the Python code is the source of the HTML generation, to add a comment to
the code, most of the time regular Python comments (<code>#</code>) are used.</p>
<p>If you want to emit HTML comments that will be visible in the browser, you need to initialize a special element whose name is <code>_</code>:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">markupy.tag</span> <span class="kn">import</span> <span class="n">Div</span><span class="p">,</span> <span class="n">_</span>
</span><span id="__span-13-2"><a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a><span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">Div</span><span class="p">[</span><span class="n">_</span><span class="p">[</span><span class="s2">&quot;This is a HTML comment&quot;</span><span class="p">]])</span>
</span><span id="__span-13-3"><a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a><span class="o">&lt;</span><span class="n">div</span><span class="o">&gt;&lt;</span><span class="err">!</span><span class="o">--</span><span class="n">This</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">HTML</span> <span class="n">comment</span><span class="o">--&gt;&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
</span></code></pre></div>
<p>Given that a comment is a <code>Element</code>, you can wrap other elements as children:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">markupy.tag</span> <span class="kn">import</span> <span class="n">Div</span><span class="p">,</span> <span class="n">Strong</span><span class="p">,</span> <span class="n">_</span>
</span><span id="__span-14-2"><a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a><span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">Div</span><span class="p">[</span><span class="n">_</span><span class="p">[</span><span class="s2">&quot;This is a HTML comment&quot;</span><span class="p">,</span> <span class="n">Strong</span><span class="p">[</span><span class="s2">&quot;Hidden text&quot;</span><span class="p">]]])</span>
</span><span id="__span-14-3"><a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a><span class="o">&lt;</span><span class="n">div</span><span class="o">&gt;&lt;</span><span class="err">!</span><span class="o">--</span><span class="n">This</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">HTML</span> <span class="n">comment</span><span class="o">&lt;</span><span class="n">strong</span><span class="o">&gt;</span><span class="n">Hidden</span> <span class="n">text</span><span class="o">&lt;/</span><span class="n">strong</span><span class="o">&gt;--&gt;&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
</span></code></pre></div>
<p>If you need full control over the exact rendering of the comment, you can create
comments or arbitrary text by injecting your own markup. See the <a href="#injecting-markup">Injecting
Markup</a> section above for details.</p>
<h2 id="attributes_1">Attributes<a class="headerlink" href="#attributes_1" title="Permanent link">&para;</a></h2>
<p>HTML attributes are defined by calling the element. They can be specified in a couple of different ways.</p>
<h3 id="elements-without-attributes">Elements Without Attributes<a class="headerlink" href="#elements-without-attributes" title="Permanent link">&para;</a></h3>
<p>For elements that do not have attributes, they can be specified by just the element itself:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">markupy.tag</span> <span class="kn">import</span> <span class="n">Hr</span>
</span><span id="__span-15-2"><a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a><span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">Hr</span><span class="p">)</span>
</span><span id="__span-15-3"><a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a><span class="o">&lt;</span><span class="n">hr</span><span class="o">&gt;</span>
</span></code></pre></div>
<h3 id="keyword-arguments">Keyword Arguments<a class="headerlink" href="#keyword-arguments" title="Permanent link">&para;</a></h3>
<p>Attributes can be specified via keyword arguments:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">markupy.tag</span> <span class="kn">import</span> <span class="n">Img</span>
</span><span id="__span-16-2"><a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a><span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">Img</span><span class="p">(</span><span class="n">src</span><span class="o">=</span><span class="s2">&quot;picture.jpg&quot;</span><span class="p">))</span>
</span><span id="__span-16-3"><a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a><span class="o">&lt;</span><span class="n">img</span> <span class="n">src</span><span class="o">=</span><span class="s2">&quot;picture.jpg&quot;</span><span class="o">&gt;</span>
</span></code></pre></div>
<p>In Python, some names such as <code>class</code> and <code>for</code> are reserved and cannot be used as keyword arguments. Instead, they can be specified as <code>class_</code> or <code>for_</code> when using keyword arguments:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">markupy.tag</span> <span class="kn">import</span> <span class="n">Label</span>
</span><span id="__span-17-2"><a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a><span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">Label</span><span class="p">(</span><span class="n">for_</span><span class="o">=</span><span class="s2">&quot;myfield&quot;</span><span class="p">))</span>
</span><span id="__span-17-3"><a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a><span class="o">&lt;</span><span class="n">label</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;myfield&quot;</span><span class="o">&gt;&lt;/</span><span class="n">label</span><span class="o">&gt;</span>
</span></code></pre></div>
<p>Attributes that contains dashes <code>-</code> can be specified using mixedCase syntax:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">markupy.tag</span> <span class="kn">import</span> <span class="n">Form</span>
</span><span id="__span-18-2"><a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a><span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">Form</span><span class="p">(</span><span class="n">hxPost</span><span class="o">=</span><span class="s2">&quot;/foo&quot;</span><span class="p">))</span>
</span><span id="__span-18-3"><a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a><span class="o">&lt;</span><span class="n">form</span> <span class="n">hx</span><span class="o">-</span><span class="n">post</span><span class="o">=</span><span class="s2">&quot;/foo&quot;</span><span class="o">&gt;&lt;/</span><span class="n">form</span><span class="o">&gt;</span>
</span></code></pre></div>
<div class="admonition note">
<p class="admonition-title">But what about PEP8 ?!</p>
<p>Some might argue that using mixedCase for attribute names is not Pythonic. It is not indeed. It's a tradeoff we are doing given the low number of chars available to build valid identifiers in Python and the broad diversity of possible chars that can be used as HTML attributes. Just keep in mind anyway that the vast majority of HTML attributes are single worded lower case.</p>
</div>
<p>markupy also allows you to write more complex HTML attributes by using the following conventions:</p>
<table>
<thead>
<tr>
<th>HTML attribute</th>
<th>markupy attribute</th>
<th>HTML to markupy conversion</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>class="..."</code></td>
<td><code>class_="..."</code></td>
<td>trailing underscore <code>_</code> is meaningless</td>
</tr>
<tr>
<td><code>data-value="..."</code></td>
<td><code>dataValue="..."</code></td>
<td><code>kebab-case</code> ➜ <code>mixedCase</code></td>
</tr>
<tr>
<td><code>v-on:click="..."</code></td>
<td><code>vOn__click="..."</code></td>
<td>colon <code>:</code> ➜ double underscore <code>__</code></td>
</tr>
<tr>
<td><code>@click="..."</code></td>
<td><code>_click="..."</code></td>
<td>leading at <code>@</code> ➜ leading underscore <code>_</code></td>
</tr>
<tr>
<td><code>@click.outside="..."</code></td>
<td><code>_click_outside="..."</code></td>
<td>dot <code>.</code> ➜ underscore <code>_</code></td>
</tr>
</tbody>
</table>
<p>Combining all those rules together, you can basically write as python identifiers 95% of HTML attributes used in modern frontend frameworks and libraries such as <a href="https://htmx.org/">htmx</a>, <a href="https://alpinejs.dev/">Alpine.js</a> or <a href="https://vuejs.org">Vue.js</a></p>
<h3 id="idclass-selector-shorthand">Id/Class selector shorthand<a class="headerlink" href="#idclass-selector-shorthand" title="Permanent link">&para;</a></h3>
<p>Defining <code>id</code> and <code>class</code> attributes is common when writing HTML. A string shorthand
that looks like a CSS selector can be used to quickly define id and classes:</p>
<div class="language-python highlight"><span class="filename">Define id</span><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">markupy.tag</span> <span class="kn">import</span> <span class="n">Div</span>
</span><span id="__span-19-2"><a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a><span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">Div</span><span class="p">(</span><span class="s2">&quot;#myid&quot;</span><span class="p">))</span>
</span><span id="__span-19-3"><a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a><span class="o">&lt;</span><span class="n">div</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;myid&quot;</span><span class="o">&gt;&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
</span></code></pre></div>
<div class="language-python highlight"><span class="filename">Define multiple classes</span><pre><span></span><code><span id="__span-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">markupy.tag</span> <span class="kn">import</span> <span class="n">Div</span>
</span><span id="__span-20-2"><a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a><span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">Div</span><span class="p">(</span><span class="s2">&quot;.foo.bar&quot;</span><span class="p">))</span>
</span><span id="__span-20-3"><a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a><span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;foo bar&quot;</span><span class="o">&gt;&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
</span></code></pre></div>
<div class="language-python highlight"><span class="filename">Combining both id and classes</span><pre><span></span><code><span id="__span-21-1"><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">markupy.tag</span> <span class="kn">import</span> <span class="n">Div</span>
</span><span id="__span-21-2"><a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a><span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">Div</span><span class="p">(</span><span class="s2">&quot;#myid.foo.bar&quot;</span><span class="p">))</span>
</span><span id="__span-21-3"><a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a><span class="o">&lt;</span><span class="n">div</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;myid&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;foo bar&quot;</span><span class="o">&gt;&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
</span></code></pre></div>
<div class="admonition warning">
<p class="admonition-title">Selector string format</p>
<p>The selector string should begin with the <code>#id</code> if present, then followed by <code>.classes</code> definition.</p>
</div>
<h3 id="attributes-as-dict">Attributes as Dict<a class="headerlink" href="#attributes-as-dict" title="Permanent link">&para;</a></h3>
<p>Attributes can also be specified as a <code>dict</code>. This is useful when using
attributes that are reserved Python keywords (like <code>for</code> or <code>class</code>), when the
attribute name contains special characters or when you want to define attributes
dynamically.</p>
<div class="language-python highlight"><span class="filename">Using Alpine.js with @-syntax (shorthand for x-on)</span><pre><span></span><code><span id="__span-22-1"><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">markupy.tag</span> <span class="kn">import</span> <span class="n">Button</span>
</span><span id="__span-22-2"><a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a><span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">Button</span><span class="p">({</span><span class="s2">&quot;@click.shift&quot;</span><span class="p">:</span> <span class="s2">&quot;addToSelection()&quot;</span><span class="p">}))</span>
</span><span id="__span-22-3"><a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a><span class="o">&lt;</span><span class="n">button</span> <span class="nd">@click</span><span class="o">.</span><span class="n">shift</span><span class="o">=</span><span class="s2">&quot;addToSelection()&quot;</span><span class="o">&gt;&lt;/</span><span class="n">button</span><span class="o">&gt;</span>
</span></code></pre></div>
<div class="language-python highlight"><span class="filename">Using an attribute with a reserved keyword</span><pre><span></span><code><span id="__span-23-1"><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">markupy.tag</span> <span class="kn">import</span> <span class="n">Label</span>
</span><span id="__span-23-2"><a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a><span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">Label</span><span class="p">({</span><span class="s2">&quot;for&quot;</span><span class="p">:</span> <span class="s2">&quot;myfield&quot;</span><span class="p">}))</span>
</span><span id="__span-23-3"><a id="__codelineno-23-3" name="__codelineno-23-3" href="#__codelineno-23-3"></a><span class="o">&lt;</span><span class="n">label</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;myfield&quot;</span><span class="o">&gt;&lt;/</span><span class="n">label</span><span class="o">&gt;</span>
</span></code></pre></div>
<h3 id="booleanempty-attributes">Boolean/Empty Attributes<a class="headerlink" href="#booleanempty-attributes" title="Permanent link">&para;</a></h3>
<p>In HTML, boolean attributes such as <code>disabled</code> are considered "true" when they
exist. Specifying an attribute as <code>True</code> will make it appear (without a value).
<code>False</code> will make it hidden. This is useful and brings the semantics of <code>bool</code> to
HTML.</p>
<div class="language-python highlight"><span class="filename">True bool attribute</span><pre><span></span><code><span id="__span-24-1"><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">markupy.tag</span> <span class="kn">import</span> <span class="n">Button</span>
</span><span id="__span-24-2"><a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a><span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">Button</span><span class="p">(</span><span class="n">disabled</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
</span><span id="__span-24-3"><a id="__codelineno-24-3" name="__codelineno-24-3" href="#__codelineno-24-3"></a><span class="o">&lt;</span><span class="n">button</span> <span class="n">disabled</span><span class="o">&gt;&lt;/</span><span class="n">button</span><span class="o">&gt;</span>
</span></code></pre></div>
<div class="language-python highlight"><span class="filename">False bool attribute</span><pre><span></span><code><span id="__span-25-1"><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">markupy.tag</span> <span class="kn">import</span> <span class="n">Button</span>
</span><span id="__span-25-2"><a id="__codelineno-25-2" name="__codelineno-25-2" href="#__codelineno-25-2"></a><span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">Button</span><span class="p">(</span><span class="n">disabled</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
</span><span id="__span-25-3"><a id="__codelineno-25-3" name="__codelineno-25-3" href="#__codelineno-25-3"></a><span class="o">&lt;</span><span class="n">button</span><span class="o">&gt;&lt;/</span><span class="n">button</span><span class="o">&gt;</span>
</span></code></pre></div>
<h3 id="conditionally-mixing-css-classes">Conditionally Mixing CSS Classes<a class="headerlink" href="#conditionally-mixing-css-classes" title="Permanent link">&para;</a></h3>
<p>To make it easier to mix CSS classes, the <code>class</code> attribute
accepts a list of class names or a dict. Falsey values will be ignored.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-26-1"><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">markupy.tag</span> <span class="kn">import</span> <span class="n">Button</span>
</span><span id="__span-26-2"><a id="__codelineno-26-2" name="__codelineno-26-2" href="#__codelineno-26-2"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">is_primary</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="__span-26-3"><a id="__codelineno-26-3" name="__codelineno-26-3" href="#__codelineno-26-3"></a><span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">Button</span><span class="p">(</span><span class="n">class_</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;btn&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;btn-primary&quot;</span><span class="p">:</span> <span class="n">is_primary</span><span class="p">}]))</span>
</span><span id="__span-26-4"><a id="__codelineno-26-4" name="__codelineno-26-4" href="#__codelineno-26-4"></a><span class="o">&lt;</span><span class="n">button</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;btn btn-primary&quot;</span><span class="o">&gt;&lt;/</span><span class="n">button</span><span class="o">&gt;</span>
</span><span id="__span-26-5"><a id="__codelineno-26-5" name="__codelineno-26-5" href="#__codelineno-26-5"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">is_primary</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="__span-26-6"><a id="__codelineno-26-6" name="__codelineno-26-6" href="#__codelineno-26-6"></a><span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">Button</span><span class="p">(</span><span class="n">class_</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;btn&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;btn-primary&quot;</span><span class="p">:</span> <span class="n">is_primary</span><span class="p">}]))</span>
</span><span id="__span-26-7"><a id="__codelineno-26-7" name="__codelineno-26-7" href="#__codelineno-26-7"></a><span class="o">&lt;</span><span class="n">button</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;btn&quot;</span><span class="o">&gt;&lt;/</span><span class="n">button</span><span class="o">&gt;</span>
</span><span id="__span-26-8"><a id="__codelineno-26-8" name="__codelineno-26-8" href="#__codelineno-26-8"></a><span class="o">&gt;&gt;&gt;</span>
</span></code></pre></div>
<h3 id="combining-modes">Combining Modes<a class="headerlink" href="#combining-modes" title="Permanent link">&para;</a></h3>
<p>Attributes via id/class shorthand, keyword arguments and dictionary can be combined:</p>
<div class="language-python highlight"><span class="filename">Specifying attribute via multiple arguments</span><pre><span></span><code><span id="__span-27-1"><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">markupy.tag</span> <span class="kn">import</span> <span class="n">Label</span>
</span><span id="__span-27-2"><a id="__codelineno-27-2" name="__codelineno-27-2" href="#__codelineno-27-2"></a><span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">Label</span><span class="p">(</span><span class="s2">&quot;#myid.foo.bar&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;for&quot;</span><span class="p">:</span> <span class="s2">&quot;somefield&quot;</span><span class="p">},</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;myname&quot;</span><span class="p">,))</span>
</span><span id="__span-27-3"><a id="__codelineno-27-3" name="__codelineno-27-3" href="#__codelineno-27-3"></a><span class="o">&lt;</span><span class="n">label</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;myid&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;foo bar&quot;</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;somefield&quot;</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;myname&quot;</span><span class="o">&gt;&lt;/</span><span class="n">label</span><span class="o">&gt;</span>
</span></code></pre></div>
<div class="admonition warning">
<p class="admonition-title">Order is important</p>
<p>When combining multiple attribute definition methods, it's important to respect the order between them:
first should come the <strong>selector id/class string</strong>, then <strong>dictionary of attributes</strong> and finally <strong>keyword attributes</strong>.</p>
</div>
<h3 id="escaping-of-attributes">Escaping of Attributes<a class="headerlink" href="#escaping-of-attributes" title="Permanent link">&para;</a></h3>
<p>Attributes are always escaped. This makes it possible to pass arbitrary HTML
fragments or scripts as attributes. The output may look a bit obfuscated since
all unsafe characters are escaped but the browser will interpret it correctly:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-28-1"><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">markupy.tag</span> <span class="kn">import</span> <span class="n">Button</span>
</span><span id="__span-28-2"><a id="__codelineno-28-2" name="__codelineno-28-2" href="#__codelineno-28-2"></a><span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">Button</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s2">&quot;example&quot;</span><span class="p">,</span> <span class="n">onclick</span><span class="o">=</span><span class="s2">&quot;let name = &#39;bob&#39;; alert(&#39;hi&#39; + name);&quot;</span><span class="p">)[</span><span class="s2">&quot;Say hi&quot;</span><span class="p">])</span>
</span><span id="__span-28-3"><a id="__codelineno-28-3" name="__codelineno-28-3" href="#__codelineno-28-3"></a><span class="o">&lt;</span><span class="n">button</span> <span class="n">onclick</span><span class="o">=</span><span class="s2">&quot;let name = &amp;#39;bob&amp;#39;; alert(&amp;#39;hi&amp;#39; + name);&quot;</span><span class="o">&gt;</span><span class="n">Say</span> <span class="n">hi</span><span class="o">&lt;/</span><span class="n">button</span><span class="o">&gt;</span>
</span></code></pre></div>
<p>In the browser, the parsed attribute as returned by
<code>document.getElementById("example").getAttribute("onclick")</code> will be the
original string <code>let name = 'bob'; alert('hi' + name);</code>.</p>
<p>Escaping will happen whether or not the value is wrapped in <code>markupsafe.Markup</code>
or not. This may seem confusing at first but is useful when embedding HTML
snippets as attributes:</p>
<div class="language-python highlight"><span class="filename">Escaping of Markup</span><pre><span></span><code><span id="__span-29-1"><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">markupy.tag</span> <span class="kn">import</span> <span class="n">Ul</span>
</span><span id="__span-29-2"><a id="__codelineno-29-2" name="__codelineno-29-2" href="#__codelineno-29-2"></a><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">markupsafe</span> <span class="kn">import</span> <span class="n">Markup</span>
</span><span id="__span-29-3"><a id="__codelineno-29-3" name="__codelineno-29-3" href="#__codelineno-29-3"></a><span class="o">&gt;&gt;&gt;</span> <span class="c1"># This markup may come from another library/template engine</span>
</span><span id="__span-29-4"><a id="__codelineno-29-4" name="__codelineno-29-4" href="#__codelineno-29-4"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">some_markup</span> <span class="o">=</span> <span class="n">Markup</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;&lt;li class=&quot;bar&quot;&gt;&lt;/li&gt;&quot;&quot;&quot;</span><span class="p">)</span>
</span><span id="__span-29-5"><a id="__codelineno-29-5" name="__codelineno-29-5" href="#__codelineno-29-5"></a><span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">Ul</span><span class="p">(</span><span class="n">dataTemplate</span><span class="o">=</span><span class="n">some_markup</span><span class="p">))</span>
</span><span id="__span-29-6"><a id="__codelineno-29-6" name="__codelineno-29-6" href="#__codelineno-29-6"></a><span class="o">&lt;</span><span class="n">ul</span> <span class="n">data</span><span class="o">-</span><span class="n">template</span><span class="o">=</span><span class="s2">&quot;&amp;lt;li class=&amp;#34;bar&amp;#34;&amp;gt;&amp;lt;/li&amp;gt;&quot;</span><span class="o">&gt;&lt;/</span><span class="n">ul</span><span class="o">&gt;</span>
</span></code></pre></div>
<h2 id="render-elements-without-a-parent-orphans">Render elements without a parent (orphans)<a class="headerlink" href="#render-elements-without-a-parent-orphans" title="Permanent link">&para;</a></h2>
<p>In some cases such as returning partial content it is useful to render elements
without a parent element. This is useful in HTMX partial responses.</p>
<p>You may use <code>render_node</code> to achieve this:</p>
<div class="language-python highlight"><span class="filename">Render elements without a parent</span><pre><span></span><code><span id="__span-30-1"><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">markupy</span> <span class="kn">import</span> <span class="n">render_node</span>
</span><span id="__span-30-2"><a id="__codelineno-30-2" name="__codelineno-30-2" href="#__codelineno-30-2"></a><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">markupy.tag</span> <span class="kn">import</span> <span class="n">Tr</span>
</span><span id="__span-30-3"><a id="__codelineno-30-3" name="__codelineno-30-3" href="#__codelineno-30-3"></a><span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">render_node</span><span class="p">([</span><span class="n">Tr</span><span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">],</span> <span class="n">Tr</span><span class="p">[</span><span class="s2">&quot;b&quot;</span><span class="p">]]))</span>
</span><span id="__span-30-4"><a id="__codelineno-30-4" name="__codelineno-30-4" href="#__codelineno-30-4"></a><span class="o">&lt;</span><span class="n">tr</span><span class="o">&gt;</span><span class="n">a</span><span class="o">&lt;/</span><span class="n">tr</span><span class="o">&gt;&lt;</span><span class="n">tr</span><span class="o">&gt;</span><span class="n">b</span><span class="o">&lt;/</span><span class="n">tr</span><span class="o">&gt;</span>
</span></code></pre></div>
<p><code>render_node()</code> accepts all kinds of <code>Node</code> objects.
You may use it to render anything that would normally be a child of another element.</p>
<div class="admonition note">
<p class="admonition-title">Best practice: Only use render_node() to render non-Elements</p>
<p>You can render regular elements by using <code>str()</code>, e.g. <code>str(P["hi"])</code>. While
<code>render_node()</code> would give the same result, it is more straightforward and
better practice to just use <code>str()</code> when rendering a regular element. Only
use <code>render_node()</code> when you do not have a parent element.</p>
</div>
<h2 id="iterating-of-the-output">Iterating of the Output<a class="headerlink" href="#iterating-of-the-output" title="Permanent link">&para;</a></h2>
<p>Iterating over a markupy element will yield the resulting contents in chunks as
they are rendered:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-31-1"><a id="__codelineno-31-1" name="__codelineno-31-1" href="#__codelineno-31-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">markupy.tag</span> <span class="kn">import</span> <span class="n">Ul</span><span class="p">,</span> <span class="n">Li</span>
</span><span id="__span-31-2"><a id="__codelineno-31-2" name="__codelineno-31-2" href="#__codelineno-31-2"></a><span class="o">&gt;&gt;&gt;</span> <span class="k">for</span> <span class="n">chunk</span> <span class="ow">in</span> <span class="n">Ul</span><span class="p">[</span><span class="n">Li</span><span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">],</span> <span class="n">Li</span><span class="p">[</span><span class="s2">&quot;b&quot;</span><span class="p">]]:</span>
</span><span id="__span-31-3"><a id="__codelineno-31-3" name="__codelineno-31-3" href="#__codelineno-31-3"></a><span class="o">...</span>     <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;got a chunk: </span><span class="si">{</span><span class="n">chunk</span><span class="si">!r}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-31-4"><a id="__codelineno-31-4" name="__codelineno-31-4" href="#__codelineno-31-4"></a><span class="o">...</span>
</span><span id="__span-31-5"><a id="__codelineno-31-5" name="__codelineno-31-5" href="#__codelineno-31-5"></a><span class="n">got</span> <span class="n">a</span> <span class="n">chunk</span><span class="p">:</span> <span class="s1">&#39;&lt;ul&gt;&#39;</span>
</span><span id="__span-31-6"><a id="__codelineno-31-6" name="__codelineno-31-6" href="#__codelineno-31-6"></a><span class="n">got</span> <span class="n">a</span> <span class="n">chunk</span><span class="p">:</span> <span class="s1">&#39;&lt;li&gt;&#39;</span>
</span><span id="__span-31-7"><a id="__codelineno-31-7" name="__codelineno-31-7" href="#__codelineno-31-7"></a><span class="n">got</span> <span class="n">a</span> <span class="n">chunk</span><span class="p">:</span> <span class="s1">&#39;a&#39;</span>
</span><span id="__span-31-8"><a id="__codelineno-31-8" name="__codelineno-31-8" href="#__codelineno-31-8"></a><span class="n">got</span> <span class="n">a</span> <span class="n">chunk</span><span class="p">:</span> <span class="s1">&#39;&lt;/li&gt;&#39;</span>
</span><span id="__span-31-9"><a id="__codelineno-31-9" name="__codelineno-31-9" href="#__codelineno-31-9"></a><span class="n">got</span> <span class="n">a</span> <span class="n">chunk</span><span class="p">:</span> <span class="s1">&#39;&lt;li&gt;&#39;</span>
</span><span id="__span-31-10"><a id="__codelineno-31-10" name="__codelineno-31-10" href="#__codelineno-31-10"></a><span class="n">got</span> <span class="n">a</span> <span class="n">chunk</span><span class="p">:</span> <span class="s1">&#39;b&#39;</span>
</span><span id="__span-31-11"><a id="__codelineno-31-11" name="__codelineno-31-11" href="#__codelineno-31-11"></a><span class="n">got</span> <span class="n">a</span> <span class="n">chunk</span><span class="p">:</span> <span class="s1">&#39;&lt;/li&gt;&#39;</span>
</span><span id="__span-31-12"><a id="__codelineno-31-12" name="__codelineno-31-12" href="#__codelineno-31-12"></a><span class="n">got</span> <span class="n">a</span> <span class="n">chunk</span><span class="p">:</span> <span class="s1">&#39;&lt;/ul&gt;&#39;</span>
</span></code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This feature can be leveraged to stream HTML contents by returning a generator instead of a fully generated str. How to integrate this is heavily depending on which framework you are using to power your website.</p>
</div>
<p>Just like <a href="#render-elements-without-a-parent-orphans">render_node()</a>, there is
<code>iter_node()</code> that can be used when you need to iterate over a list of elements
without a parent:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-32-1"><a id="__codelineno-32-1" name="__codelineno-32-1" href="#__codelineno-32-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">markupy</span> <span class="kn">import</span> <span class="n">iter_node</span>
</span><span id="__span-32-2"><a id="__codelineno-32-2" name="__codelineno-32-2" href="#__codelineno-32-2"></a><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">markupy.tag</span> <span class="kn">import</span> <span class="n">Li</span>
</span><span id="__span-32-3"><a id="__codelineno-32-3" name="__codelineno-32-3" href="#__codelineno-32-3"></a><span class="o">&gt;&gt;&gt;</span> <span class="k">for</span> <span class="n">chunk</span> <span class="ow">in</span> <span class="n">iter_node</span><span class="p">([</span><span class="n">Li</span><span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">],</span> <span class="n">Li</span><span class="p">[</span><span class="s2">&quot;b&quot;</span><span class="p">]]):</span>
</span><span id="__span-32-4"><a id="__codelineno-32-4" name="__codelineno-32-4" href="#__codelineno-32-4"></a><span class="o">...</span>     <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;got a chunk: </span><span class="si">{</span><span class="n">chunk</span><span class="si">!r}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-32-5"><a id="__codelineno-32-5" name="__codelineno-32-5" href="#__codelineno-32-5"></a><span class="o">...</span>
</span><span id="__span-32-6"><a id="__codelineno-32-6" name="__codelineno-32-6" href="#__codelineno-32-6"></a><span class="n">got</span> <span class="n">a</span> <span class="n">chunk</span><span class="p">:</span> <span class="s1">&#39;&lt;li&gt;&#39;</span>
</span><span id="__span-32-7"><a id="__codelineno-32-7" name="__codelineno-32-7" href="#__codelineno-32-7"></a><span class="n">got</span> <span class="n">a</span> <span class="n">chunk</span><span class="p">:</span> <span class="s1">&#39;a&#39;</span>
</span><span id="__span-32-8"><a id="__codelineno-32-8" name="__codelineno-32-8" href="#__codelineno-32-8"></a><span class="n">got</span> <span class="n">a</span> <span class="n">chunk</span><span class="p">:</span> <span class="s1">&#39;&lt;/li&gt;&#39;</span>
</span><span id="__span-32-9"><a id="__codelineno-32-9" name="__codelineno-32-9" href="#__codelineno-32-9"></a><span class="n">got</span> <span class="n">a</span> <span class="n">chunk</span><span class="p">:</span> <span class="s1">&#39;&lt;li&gt;&#39;</span>
</span><span id="__span-32-10"><a id="__codelineno-32-10" name="__codelineno-32-10" href="#__codelineno-32-10"></a><span class="n">got</span> <span class="n">a</span> <span class="n">chunk</span><span class="p">:</span> <span class="s1">&#39;b&#39;</span>
</span><span id="__span-32-11"><a id="__codelineno-32-11" name="__codelineno-32-11" href="#__codelineno-32-11"></a><span class="n">got</span> <span class="n">a</span> <span class="n">chunk</span><span class="p">:</span> <span class="s1">&#39;&lt;/li&gt;&#39;</span>
</span></code></pre></div>









  




                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["content.code.copy", "toc.integrate"], "search": "../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.525ec568.min.js"></script>
      
    
  </body>
</html>